define({ "api": [  {    "type": "",    "url": "accDisOrder",    "title": "accDisOrder",    "name": "accDisOrder",    "version": "1.0.0",    "description": "<p>the Accumulate/Distribute Algorithmic order is another name for our Iceberg Order See <a href=\"#api-Command_Reference-icebergOrder\">icebergOrder</a> for details...</p>",    "group": "Command_Reference",    "filename": "src/commands.js",    "groupTitle": "Command_Reference"  },  {    "type": "",    "url": "aggressiveEntryOrder",    "title": "aggressiveEntryOrder",    "name": "aggressiveEntryOrder",    "version": "1.0.0",    "description": "<p>Tries to enter a position with a limit order that stays at the top of the order book. The limit order is initially placed at the top of the order book. If the price moves away from the order, the order will be canceled and repositioned at the new top of the book.</p>",    "group": "Command_Reference",    "parameter": {      "fields": {        "Parameter": [          {            "group": "Parameter",            "type": "TimeString",            "optional": true,            "field": "timeLimit",            "description": "<p>The amount of time to leave the order running before giving up. Numbers are treated as seconds. Add the postfix s, m, h or d to indicate seconds, minutes or hours or days. eg 12h = 12 hours. If this argument is missing, there will be no time limit and the order will run until it is fully filled or cancelled.</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "slippageLimit",            "description": "<p>The amount of slippage to allow before giving up. The value can anything supported in <code>offset</code> from a limitOrder, such as <code>slippageLimit=20</code> or <code>slippageLimit=1%</code> or <code>slippageLimit=@10000</code> If this argument is missing, there will be no slippage limit and the order will run until it is fully filled or cancelled.</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "position",            "description": "<p>Sets the target position size, which is the size of your open position after the trade completes. If you use <code>position</code>, then you do not need to use <code>side</code> or <code>amount</code> as these are calculated for you.<br><br> The amount traded will be the difference between your current open position and the target position size. For example, if your current position is -100 contracts (you're short 100 contracts), and you pass in a position of 300, then an order will be placed to buy 400 contracts. This ensures we get from the current -100 to our desired target of +300.<br><br> On spot exchanges, like Bitfinex, the target amount represents the amount of the asset you'd like to end up with. For example, on the BTCUSD pair, position would represent the amount of BTC you'd like to own after the order completes. If your balance is current 4 btc and you set <code>position</code> to 3, it will result in a sell of 1btc (to take you from the current 4 btc balance to the desired 3 btc balance). However, if your balance was 0 btc, then it would result in a buy of 3 btc.<br><br> Note that the amount to actually trade is calculated from your current open position at the moment the action is executed and does not take into account other open orders.<br><br> If you do not have enough funds to complete the order, all available funds will be used to get as close as possible to the target position.<br><br> Required if <code>side</code> and <code>amount</code> are not used. <code>side</code> and <code>amount</code> are ignored if <code>position</code> is used.</p>"          },          {            "group": "Parameter",            "type": "String",            "allowedValues": [              "\"buy\"",              "\"sell\""            ],            "optional": true,            "field": "side",            "defaultValue": "buy",            "description": "<p>Is this a buy or sell order. Required if <code>position</code> is not used.</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "amount",            "defaultValue": "0",            "description": "<p>The size of the order. The units depend on the symbol and exchange.<br><br> How the amount if interpreted depends on the exchange. Spot exchanges like Bitfinex will treat the amount as the quantity of the asset to buy or sell. For example, on the BTCUSD pair the amount would be measured in BTC.<br><br> % can be used to allocate a percentage of your balance/equity for the order. For example, if you have a balance of 1 BTC and use <code>amount=50%</code>, then the order will be for 0.5 BTC. <br><br> %% can be used to allocate a percentage of available funds for your order. For example, if you have a balance of 1 BTC, but only 0.5 BTC is available (perhaps the rest is locked up in another pending order) and use <code>amount=50%%</code>, then the order will be for 0.25 BTC (half of what is available).<br><br> Percentage amounts are supported on most (but not all) symbols on BitMEX (only available via <a href=\"https://alertatron.com/\">https://alertatron.com/</a>). XBTUSD is supported and all symbols against XBT (eg ETHXBT), but not on symbols backed against other currencies (eg ETHUSD, XBTJPY etc can not use % amounts and must use fixed amounts).)<br><br> Required if <code>position</code> is not used.</p>"          },          {            "group": "Parameter",            "type": "String",            "optional": true,            "field": "tag",            "description": "<p>Tag this order with the value given, so it can be canceled later in the action list with <code>cancelOrders()</code>.</p>"          }        ]      }    },    "success": {      "examples": [        {          "title": "Deribit Example",          "content": "# Enter a long position at the current price\n# will keep moving the order to the top of the order book if the price goes up while waiting\nderibit(BTC-PERPETUAL) {\n    aggressiveEntryOrder(side=buy, amount=1);\n}",          "type": "json"        }      ]    },    "filename": "src/commands.js",    "groupTitle": "Command_Reference"  },  {    "type": "",    "url": "balance",    "title": "balance",    "name": "balance",    "version": "1.0.0",    "description": "<p>Send a notification to your default notification channels with a balance report for the exchange and instrument the command is running in.</p>",    "group": "Command_Reference",    "success": {      "examples": [        {          "title": "Example",          "content": "# send me a notification with the balance of the BTCUSD pair on Bitfinex\nbitfinex(BTCUSD) {\n    balance()\n}",          "type": "json"        }      ]    },    "filename": "src/commands.js",    "groupTitle": "Command_Reference"  },  {    "type": "",    "url": "cancelOrders",    "title": "cancelOrders",    "name": "cancelOrders",    "version": "1.0.0",    "description": "<p>Attempts to cancel open orders</p>",    "group": "Command_Reference",    "parameter": {      "fields": {        "Parameter": [          {            "group": "Parameter",            "type": "String",            "allowedValues": [              "\"buy\"",              "\"sell\"",              "\"all\"",              "\"session\"",              "\"tagged\""            ],            "optional": false,            "field": "which",            "defaultValue": "session",            "description": "<p>Which orders should we cancel.<br> <code>buy</code> will cancel all open buy orders.<br> <code>sell</code> will cancel all open sell orders.<br> <code>all</code> will cancel all open orders.<br> <code>session</code> will cancel all orders opened during the execution of this list of actions.<br> <code>tagged</code> will cancel all orders tagged with the value of <code>tag</code> that were created in the current session.</p>"          },          {            "group": "Parameter",            "type": "String",            "optional": true,            "field": "tag",            "description": "<p>If <code>which</code> is 'tagged', then this is the tag we will look for.</p>"          }        ]      }    },    "success": {      "examples": [        {          "title": "Example",          "content": "# Place a limit order to go all in, wait 30 minutes for it to fill\n# then cancel the order if it's not fully filled.\nbitfinex(BTCUSD) {\n    limitOrder(side=buy, amount=100%, offset=10, tag=allIn)\n    wait(30m);\n    cancelOrders(tagged, allIn)\n}",          "type": "json"        }      ]    },    "filename": "src/commands.js",    "groupTitle": "Command_Reference"  },  {    "type": "",    "url": "continue",    "title": "continue",    "name": "continue",    "version": "1.0.0",    "description": "<p>Evaluates some condition and will only continue to later commands if the condition is met. If the condition is not met, then this command will abort execution of the command sequence. Typically you would place these at the start of the command sequence. See also <a href=\"#api-Command_Reference-stop\">stop</a> which is the same, but with inverted logic.</p>",    "group": "Command_Reference",    "parameter": {      "fields": {        "Parameter": [          {            "group": "Parameter",            "type": "String",            "optional": false,            "field": "if",            "defaultValue": "always",            "description": "<p>The name of the condition to check<br> <strong>Simple Conditions</strong><br> <code>always</code> - will always be true. Value is ignored.<br> <code>never</code> - will always be false. Value is ignored.<br><br> <strong>Date and Time</strong><br> All date and time conditions use UTC time only. Dates must be given in the format <code>YYYY-MM-DD</code> and times in the format <code>HH:MM</code>. Times are assumed to be using the 24 hour clock.<br><br> <code>isAfterDate</code> - true if the current date is after the date given in the value.<br> <code>isOnOrAfterDate</code> - true if the current date is on or after the date given in the value.<br> <code>isBeforeDate</code> - true if the current date is before the date given in the value.<br> <code>isOnOrBeforeDate</code> - true if the current date is on or before the date given in the value.<br> <code>isSameDate</code> - true if the current date is the same as the date given in the value.<br> <code>isAfterTime</code> - true if the current time is after the time given in the value.<br> <code>isBeforeTime</code> - true if the current time is before the time given in the value.<br><br> <strong>Position Size</strong><br> Position size is your current open position. Positive values are long positions, negative values are short positions. On spot exchanges, the position will be considered to be the amount of the asset in your wallet (so will always be &gt;=0)<br> <code>positionLessThan</code> - true if your current open position size is less than the value.<br> <code>positionLessThanEq</code> - true if your current open position size is less than or equal to the value.<br> <code>positionGreaterThan</code> - true if your current open position size is greater than the value.<br> <code>positionGreaterThanEq</code> - true if your current open position size is greater than or equal to the value.<br> <code>positionLong</code> - true if your currently have a LONG position. Value is ignored.<br> <code>positionShort</code> - true if your currently have a SHORT position. Value is ignored.<br> <code>positionNone</code> - true if you currently have no open positions at all. Value is ignored.<br><br> <strong>Last Price</strong><br> The last price is calculated as the mid point between the current top bid and ask in the order book.<br> <code>priceLessThan</code> - true if the current price is less than the value.<br> <code>priceGreaterThan</code> - true if the current price is greater than the value.<br> <code>priceLessThanEq</code> - true if the current price is less than or equal to the value.<br> <code>priceGreaterThanEq</code> - true if the current price is greater than or equal to the value.<br></p>"          },          {            "group": "Parameter",            "type": "String",            "optional": true,            "field": "value",            "description": "<p>The value to compare against, if needed. It's value will depend on the condition being tested.</p>"          }        ]      }    },    "success": {      "examples": [        {          "title": "Deribit Example",          "content": "# Check that our current position size is less than 1000 contracts.\n# If it exceeds 1000, stop and exit\n# If it is under 1000, then place a limit order to buy 500 contracts\nderibit(BTC-PERPETUAL) {\n    continue(if=positionLessThan, value=1000);\n    limitOrder(side=buy, amount=500, offset=10);\n}",          "type": "json"        }      ]    },    "filename": "src/commands.js",    "groupTitle": "Command_Reference"  },  {    "type": "",    "url": "icebergOrder",    "title": "icebergOrder",    "name": "icebergOrder",    "version": "1.0.0",    "description": "<p>An algorithmic order that breaks up a large order into smaller orders. This is often also called the Accumulate / Distribute order (accDisOrder in Instabot Trader). NOTE: Some exchanges refer to 'Iceberg Order' as an order that is partially hidden, but this is not that kind of order. The small orders are placed relative to the current price, but only if the current price is below/above a set limit price. The system waits for the small order to fill and when it does, places the next order. If the price slips too far, the order is cancelled and re-entered. This implementation attempts to work in the same way as the <a href=\"https://support.okex.com/hc/en-us/articles/115003537571-Strategy-Order-Explanation\">okex iceberg order</a>. <br><br>Note: if you cancel the limit order created by this command on the exchange, then Instabot Trader will take that as a signal to cancel the entire iceberg order. If we did not do this, as soon as you cancelled an order, a new one would take it's place.</p>",    "group": "Command_Reference",    "parameter": {      "fields": {        "Parameter": [          {            "group": "Parameter",            "type": "Number",            "optional": false,            "field": "totalAmount",            "defaultValue": "0",            "description": "<p>The total size of the order</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": false,            "field": "averageAmount",            "defaultValue": "0",            "description": "<p>The average size of each of the smaller orders. The size of each order will between 90% and 110% of the averageAmount value.</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": false,            "field": "variance",            "defaultValue": "0.1%",            "description": "<p>The amount to offset the order from the current price. You may provide a raw value (<code>0.001</code>) or a percentage (<code>0.1%</code>). For example, the buy price would be calculated as <code>current bid * (1 - variance)</code>. With a bid at 6000 and a variance of 0.1%, the order would be placed at <code>6000 * (1 - 0.001) = 5994</code>.</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": false,            "field": "limitPrice",            "description": "<p>When buying, the bid price must be below the limit price. When selling, the ask price must be above the limit price. While the price is the wrong side of the limit price, the iceberg order will be suspended - no new orders will be placed. When the price crosses back, then ordering will continue until totalAmount has been filled.</p>"          },          {            "group": "Parameter",            "type": "TimeString",            "optional": false,            "field": "timeLimit",            "defaultValue": "1d",            "description": "<p>The amount of time to leave the iceberg order running before giving up. Numbers are treated as seconds. Add the postfix s, m, h or d to indicate seconds, minutes or hours or days. eg 12h = 12 hours.</p>"          },          {            "group": "Parameter",            "type": "String",            "allowedValues": [              "\"buy\"",              "\"sell\""            ],            "optional": true,            "field": "side",            "defaultValue": "buy",            "description": "<p>Is this a buy order or a sell order.</p>"          },          {            "group": "Parameter",            "type": "String",            "optional": true,            "field": "tag",            "description": "<p>Tag this order with the value given, so it can be canceled later in the action list with <code>cancelOrders()</code>.</p>"          }        ]      }    },    "success": {      "examples": [        {          "title": "Bitfinex Example",          "content": "# On Bitfinex BTCUSD pair, place an order to buy 10 BTC, 0.1 BTC at a time,\n# while the price is below 6400. Orders are place 0.02% away from the top of the order book\n# If it's not fully filled after 12 hours, it will be cancelled.\n# When done, send a balance report to your phone / telegram chat.\nbitfinex(BTCUSD) {\n    icebergOrder(side=buy, totalAmount=10, averageAmount=0.1, variance=0.02%, limitPrice=6400, timeLimit=12h);\n    balance();\n}",          "type": "json"        }      ]    },    "filename": "src/commands.js",    "groupTitle": "Command_Reference"  },  {    "type": "",    "url": "limitOrder",    "title": "limitOrder",    "name": "limitOrder",    "version": "1.0.0",    "description": "<p>Place a limit order.</p>",    "group": "Command_Reference",    "parameter": {      "fields": {        "Parameter": [          {            "group": "Parameter",            "type": "Boolean",            "optional": true,            "field": "postOnly",            "defaultValue": "true",            "description": "<p>Attempt to submit the order as a post-only order. Not all exchanges support this - see compatibility for details</p>"          },          {            "group": "Parameter",            "type": "Boolean",            "optional": true,            "field": "reduceOnly",            "defaultValue": "false",            "description": "<p>Attempt to submit the order as a reduce-only order. Not all exchanges support this - see compatibility for details</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": false,            "field": "offset",            "defaultValue": "0",            "description": "<p>The offset from the current price or absolute price. Examples...<br><br> <code>50</code> - offset $50 from the current price (below for buys, above for sells)<br> <code>5%</code> - offset 5% of the current price (eg price is $1000, offset $50 from it)<br> <code>@950</code> - absolute price of 950, regardless of what the current price is (so not an offset at all really, but still useful).</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "position",            "description": "<p>Sets the target position size, which is the size of your open position after the trade completes. If you use <code>position</code>, then you do not need to use <code>side</code> or <code>amount</code> as these are calculated for you.<br><br> The amount traded will be the difference between your current open position and the target position size. For example, if your current position is -100 contracts (you're short 100 contracts), and you pass in a position of 300, then an order will be placed to buy 400 contracts. This ensures we get from the current -100 to our desired target of +300.<br><br> On spot exchanges, like Bitfinex, the target amount represents the amount of the asset you'd like to end up with. For example, on the BTCUSD pair, position would represent the amount of BTC you'd like to own after the order completes. If your balance is current 4 btc and you set <code>position</code> to 3, it will result in a sell of 1btc (to take you from the current 4 btc balance to the desired 3 btc balance). However, if your balance was 0 btc, then it would result in a buy of 3 btc.<br><br> Note that the amount to actually trade is calculated from your current open position at the moment the action is executed and does not take into account other open orders.<br><br> If you do not have enough funds to complete the order, all available funds will be used to get as close as possible to the target position.<br><br> Required if <code>side</code> and <code>amount</code> are not used. <code>side</code> and <code>amount</code> are ignored if <code>position</code> is used.</p>"          },          {            "group": "Parameter",            "type": "String",            "allowedValues": [              "\"buy\"",              "\"sell\""            ],            "optional": true,            "field": "side",            "defaultValue": "buy",            "description": "<p>Is this a buy or sell order. Required if <code>position</code> is not used.</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "amount",            "defaultValue": "0",            "description": "<p>The size of the order. The units depend on the symbol and exchange.<br><br> How the amount if interpreted depends on the exchange. Spot exchanges like Bitfinex will treat the amount as the quantity of the asset to buy or sell. For example, on the BTCUSD pair the amount would be measured in BTC.<br><br> % can be used to allocate a percentage of your balance/equity for the order. For example, if you have a balance of 1 BTC and use <code>amount=50%</code>, then the order will be for 0.5 BTC. <br><br> %% can be used to allocate a percentage of available funds for your order. For example, if you have a balance of 1 BTC, but only 0.5 BTC is available (perhaps the rest is locked up in another pending order) and use <code>amount=50%%</code>, then the order will be for 0.25 BTC (half of what is available).<br><br> Percentage amounts are supported on most (but not all) symbols on BitMEX (only available via <a href=\"https://alertatron.com/\">https://alertatron.com/</a>). XBTUSD is supported and all symbols against XBT (eg ETHXBT), but not on symbols backed against other currencies (eg ETHUSD, XBTJPY etc can not use % amounts and must use fixed amounts).)<br><br> Required if <code>position</code> is not used.</p>"          },          {            "group": "Parameter",            "type": "String",            "optional": true,            "field": "tag",            "description": "<p>Tag this order with the value given, so it can be canceled later in the action list with <code>cancelOrders()</code>.</p>"          }        ]      }    },    "error": {      "fields": {        "Compatibility": [          {            "group": "Compatibility",            "optional": false,            "field": "Deribit",            "description": "<p>Reduce only orders can only be placed if you have an open position. The sum of all reduce-only orders can only be as large as the open position size<br> Post-only orders will have their price adjusted if you attempt to place orders at invalid prices</p>"          },          {            "group": "Compatibility",            "optional": false,            "field": "Bitfinex",            "description": "<p>Reduce only is not supported on spot exchanges</p>"          },          {            "group": "Compatibility",            "optional": false,            "field": "Coinbase",            "description": "<p>Reduce only is not supported on spot exchanges</p>"          }        ]      }    },    "success": {      "examples": [        {          "title": "Bitfinex Example",          "content": "# On Bitfinex BTCUSD pair, place a limit order to buy 1btc at a price $10 below the current price\nbitfinex(BTCUSD) {\n    limitOrder(side=buy, amount=1, offset=10);\n}",          "type": "json"        },        {          "title": "Deribit Example",          "content": "# On Deribit BTC-PERPETUAL contact, update our open position to +1000 contracts\n# if the price drops $50\nderibit(BTC-PERPETUAL) {\n    limitOrder(position=1000, offset=50);\n}",          "type": "json"        }      ]    },    "filename": "src/commands.js",    "groupTitle": "Command_Reference"  },  {    "type": "",    "url": "marketMakerOrder",    "title": "marketMakerOrder",    "name": "marketMakerOrder",    "version": "1.0.0",    "description": "<p>An order that creates a basic market maker bot. This essentially looks like a pair of endless <a href=\"#api-Command_Reference-pingPongOrder\">ping pong orders</a> that are a little easier to set up. It also supports a feature to auto balance the position if price starts to move outside the initial range. You'll need to experiment with this feature, as used correctly it allows you to focus your funds in a tighter range, while still being able to profit from trending markets or significant moves outside your original range.</p>",    "group": "Command_Reference",    "parameter": {      "fields": {        "Parameter": [          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "bidAmount",            "defaultValue": "0",            "description": "<p>The amount of <em>each</em> bid</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "bidStep",            "defaultValue": "5",            "description": "<p>The price difference between each bid order</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "bidCount",            "defaultValue": "0",            "description": "<p>The number of bid orders to place initially.</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "askAmount",            "defaultValue": "0",            "description": "<p>The amount of <em>each</em> ask</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "askStep",            "defaultValue": "5",            "description": "<p>The price difference between each ask order</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "askCount",            "defaultValue": "0",            "description": "<p>The number of ask orders to place initially.</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "spread",            "defaultValue": "30",            "description": "<p>The gap between bids and asks (well, when a bid/ask is filled, how far away should the opposite order be placed). In <a href=\"#api-Command_Reference-pingPongOrder\">pingPongOrder</a> terms, this is pongDistance.</p>"          },          {            "group": "Parameter",            "type": "String",            "allowedValues": [              "\"none\"",              "\"shuffle\""            ],            "optional": true,            "field": "autoBalance",            "defaultValue": "none",            "description": "<p>When autoBalance is set to <code>shuffle</code>, Instabot Trader will attempt to shuffle your orders closer to the price if the prices moves outside the your order range. For example, if the prices goes up all the way through your asks, and keeps going, you'll be left with a lot of bids some way below the current price. When <code>shuffle</code> is on, the bid furthest from the price will be moved to <code>bidStep</code> above the block, effectively moving the entire block of orders bidStep closer to the price. This process will repeat until the bids are just below the price again.</p>"          },          {            "group": "Parameter",            "type": "TimeString",            "optional": true,            "field": "autoBalanceEvery",            "defaultValue": "0",            "description": "<p>The number of seconds to wait between each attempt to auto balance. You can adjust this to change how quickly Instabot Trader tries to rebalance your orders. Can also include units, so <code>10</code> is 10 seconds, <code>10s</code> is also 10 seconds, <code>10m</code> is 10 minutes and <code>10h</code> is 10 hours.</p>"          },          {            "group": "Parameter",            "type": "String",            "optional": true,            "field": "tag",            "description": "<p>Tag this order with the value given, so it can be canceled later in the action list with <code>cancelOrders()</code>.</p>"          }        ]      }    },    "success": {      "examples": [        {          "title": "Bitfinex Example",          "content": "# Start a crude market maker bot on Bitfinex that runs forever.\n# The initial spread will consist of 80 orders over a roughly $400 range ($200 above and below the current price)\nbitfinex(BTCUSD) {\n  marketMakerOrder(\n    bidAmount=0.1, bidStep=5, bidCount=40,\n    askAmount=0.1, askStep=5, askCount=40,\n    spread=30,\n    autoBalance=limit, autoBalanceAt=10%)\n}",          "type": "json"        }      ]    },    "filename": "src/commands.js",    "groupTitle": "Command_Reference"  },  {    "type": "",    "url": "marketOrder",    "title": "marketOrder",    "name": "marketOrder",    "version": "1.0.0",    "description": "<p>Place a market order.</p>",    "group": "Command_Reference",    "success": {      "examples": [        {          "title": "Bitfinex Example",          "content": "# On Bitfinex BTCUSD pair, place a market order for 1btc\nbitfinex(BTCUSD) {\n    marketOrder(side=buy, amount=1);\n}",          "type": "json"        },        {          "title": "Deribit Example",          "content": "# On Deribit BTC-PERPETUAL contact, update our open position to +1000 contracts\nderibit(BTC-PERPETUAL) {\n    marketOrder(position=1000);\n}",          "type": "json"        }      ]    },    "filename": "src/commands.js",    "groupTitle": "Command_Reference",    "parameter": {      "fields": {        "Parameter": [          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "position",            "description": "<p>Sets the target position size, which is the size of your open position after the trade completes. If you use <code>position</code>, then you do not need to use <code>side</code> or <code>amount</code> as these are calculated for you.<br><br> The amount traded will be the difference between your current open position and the target position size. For example, if your current position is -100 contracts (you're short 100 contracts), and you pass in a position of 300, then an order will be placed to buy 400 contracts. This ensures we get from the current -100 to our desired target of +300.<br><br> On spot exchanges, like Bitfinex, the target amount represents the amount of the asset you'd like to end up with. For example, on the BTCUSD pair, position would represent the amount of BTC you'd like to own after the order completes. If your balance is current 4 btc and you set <code>position</code> to 3, it will result in a sell of 1btc (to take you from the current 4 btc balance to the desired 3 btc balance). However, if your balance was 0 btc, then it would result in a buy of 3 btc.<br><br> Note that the amount to actually trade is calculated from your current open position at the moment the action is executed and does not take into account other open orders.<br><br> If you do not have enough funds to complete the order, all available funds will be used to get as close as possible to the target position.<br><br> Required if <code>side</code> and <code>amount</code> are not used. <code>side</code> and <code>amount</code> are ignored if <code>position</code> is used.</p>"          },          {            "group": "Parameter",            "type": "String",            "allowedValues": [              "\"buy\"",              "\"sell\""            ],            "optional": true,            "field": "side",            "defaultValue": "buy",            "description": "<p>Is this a buy or sell order. Required if <code>position</code> is not used.</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "amount",            "defaultValue": "0",            "description": "<p>The size of the order. The units depend on the symbol and exchange.<br><br> How the amount if interpreted depends on the exchange. Spot exchanges like Bitfinex will treat the amount as the quantity of the asset to buy or sell. For example, on the BTCUSD pair the amount would be measured in BTC.<br><br> % can be used to allocate a percentage of your balance/equity for the order. For example, if you have a balance of 1 BTC and use <code>amount=50%</code>, then the order will be for 0.5 BTC. <br><br> %% can be used to allocate a percentage of available funds for your order. For example, if you have a balance of 1 BTC, but only 0.5 BTC is available (perhaps the rest is locked up in another pending order) and use <code>amount=50%%</code>, then the order will be for 0.25 BTC (half of what is available).<br><br> Percentage amounts are supported on most (but not all) symbols on BitMEX (only available via <a href=\"https://alertatron.com/\">https://alertatron.com/</a>). XBTUSD is supported and all symbols against XBT (eg ETHXBT), but not on symbols backed against other currencies (eg ETHUSD, XBTJPY etc can not use % amounts and must use fixed amounts).)<br><br> Required if <code>position</code> is not used.</p>"          }        ]      }    }  },  {    "type": "",    "url": "notify",    "title": "notify",    "name": "notify",    "version": "1.0.0",    "description": "<p>Send a notification to one of the supported notification channels</p>",    "group": "Command_Reference",    "parameter": {      "fields": {        "Parameter": [          {            "group": "Parameter",            "type": "String",            "optional": false,            "field": "msg",            "description": "<p>The message to send. Use slack shortcodes for emoji when sending to Slack.</p>"          },          {            "group": "Parameter",            "type": "String",            "optional": true,            "field": "title",            "description": "<p>The title of an attachment to include with the message.</p>"          },          {            "group": "Parameter",            "type": "String",            "optional": true,            "field": "color",            "description": "<p>The hex color to use for the attachment side bar (css style like #ff0000), or one of <code>good</code> (green), <code>warning</code> (yellow) or <code>danger</code> (red).</p>"          },          {            "group": "Parameter",            "type": "String",            "optional": true,            "field": "text",            "description": "<p>The text to use in the attachment area.</p>"          },          {            "group": "Parameter",            "type": "String",            "allowedValues": [              "\"sms\"",              "\"slack\"",              "\"telegram\""            ],            "optional": true,            "field": "who",            "defaultValue": "default",            "description": "<p>Which channel to send the message to. By default it sends to the channel configured in your <code>config/local.json</code> file, but you can specify the channel here. SMS, Slack and Telegram are supported channels.</p>"          }        ]      }    },    "error": {      "fields": {        "Compatibility": [          {            "group": "Compatibility",            "optional": false,            "field": "Telegram",            "description": "<p>Instabot Trader can only send messages to telegram after you've started a chat.</p>"          },          {            "group": "Compatibility",            "optional": false,            "field": "Slack",            "description": "<p><code>title</code>, <code>color</code> and <code>text</code> are really for sending '<a href=\"https://api.slack.com/docs/message-attachments\">attachments</a>' to Slack - other services are ignoring these for now.</p>"          }        ]      }    },    "success": {      "examples": [        {          "title": "Example",          "content": "bitfinex(BTCUSD) {\n    notify(msg=\"BUY BUY BUY, MOON, LAMBO, ETC\");\n}",          "type": "json"        }      ]    },    "filename": "src/commands.js",    "groupTitle": "Command_Reference"  },  {    "type": "",    "url": "pingPongOrder",    "title": "pingPongOrder",    "name": "pingPongOrder",    "version": "1.0.0",    "description": "<p>This algorithmic order starts off identical to a <code>scaledOrder</code>. It places a series of limit orders. However, once the orders are placed, Instabot Trader waits for them to be filled. As soon as one of the limit orders is filled, a new limit order is placed, <code>pongDistance</code> away from the original on the other side of the book. The order completes when all the original ping orders have been filled and all the resulting pong orders have also been filled. However, if <code>endless</code> is 'true', then the pong orders will create new ping orders as they are filled and the whole process starts again. When in <code>endless</code> mode the order will never complete. If you want to cancel it, you can either manually cancel all the open orders on the exchange, or call <code>cancelOrders(tagged, tagname)</code>. The tag defaults of 'pingpong' for this order, but can be anything you like.</p>",    "group": "Command_Reference",    "parameter": {      "fields": {        "Parameter": [          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "from",            "defaultValue": "0",            "description": "<p>The offset from the current price to start placing orders. See <code>offset</code> in limitOrder.</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "to",            "defaultValue": "50",            "description": "<p>The offset from the current price to finish placing orders. See <code>offset</code> in limitOrder.</p>"          },          {            "group": "Parameter",            "type": "Number",            "size": "2-100",            "optional": true,            "field": "orderCount",            "defaultValue": "10",            "description": "<p>The number of orders to place between <code>from</code> and <code>to</code>.</p>"          },          {            "group": "Parameter",            "type": "String",            "allowedValues": [              "\"linear\"",              "\"ease-in\"",              "\"ease-out\"",              "\"ease-in-out\""            ],            "optional": true,            "field": "easing",            "defaultValue": "linear",            "description": "<p>The easing method to use when spacing the orders out in the range between <code>from</code> and <code>to</code>.<br> <code>linear</code> will place all the orders evenly spaced out between <code>from</code> and <code>to</code>.<br> <code>ease-in</code> will bunch the orders up closer to <code>from</code>.<br> <code>ease-out</code> will bunch up the orders closer to <code>to</code>.<br> <code>ease-in-out</code> will bunch the orders up closer to <code>from</code> and <code>to</code> away from the middle of the range.</p>"          },          {            "group": "Parameter",            "type": "Number",            "size": "0-1",            "optional": true,            "field": "varyAmount",            "defaultValue": "0",            "description": "<p>How much, as a percentage, should the amount of individual orders be randomised by. Can accept numbers, like <code>0.1</code>, or percentages like <code>10%</code>. For example, with a total amount of 1000, and an orderCount of 10, each order will be for 100 units. With a 10% varyAmount, each order will be between 90 and 110 units.</p>"          },          {            "group": "Parameter",            "type": "Number",            "size": "0-1",            "optional": true,            "field": "varyPrice",            "defaultValue": "0",            "description": "<p>How much, as a percentage, should the price of individual orders be randomised by.</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "pongDistance",            "defaultValue": "20",            "description": "<p>Once a ping order has been filled, a new order is placed <code>pongDistance</code> away on the other side of the book.</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "pingAmount",            "defaultValue": "0",            "description": "<p>The size of each of the individual ping orders. This will be used in preference to <code>amount</code>. The total amount needed is pingAmount * orderCount.</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "pongAmount",            "defaultValue": "0",            "description": "<p>The size of each of the individual pong orders. This will be used in preference to <code>amount</code>.</p>"          },          {            "group": "Parameter",            "type": "String",            "allowedValues": [              "\"true\"",              "\"false\""            ],            "optional": true,            "field": "endless",            "defaultValue": "false",            "description": "<p>The Ping Pong order normally completes after the original ping order is filled and the following pong order is also filled. If <code>endless</code> is true, then the pong order will generate a new ping order and the process will continue forever.</p>"          },          {            "group": "Parameter",            "type": "String",            "allowedValues": [              "\"buy\"",              "\"sell\""            ],            "optional": true,            "field": "side",            "defaultValue": "buy",            "description": "<p>Is this a buy or sell order. Required if <code>position</code> is not used.</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "amount",            "defaultValue": "0",            "description": "<p>The size of the order. The units depend on the symbol and exchange.<br><br> How the amount if interpreted depends on the exchange. Spot exchanges like Bitfinex will treat the amount as the quantity of the asset to buy or sell. For example, on the BTCUSD pair the amount would be measured in BTC.<br><br> % can be used to allocate a percentage of your balance/equity for the order. For example, if you have a balance of 1 BTC and use <code>amount=50%</code>, then the order will be for 0.5 BTC. <br><br> %% can be used to allocate a percentage of available funds for your order. For example, if you have a balance of 1 BTC, but only 0.5 BTC is available (perhaps the rest is locked up in another pending order) and use <code>amount=50%%</code>, then the order will be for 0.25 BTC (half of what is available).<br><br> Percentage amounts are supported on most (but not all) symbols on BitMEX (only available via <a href=\"https://alertatron.com/\">https://alertatron.com/</a>). XBTUSD is supported and all symbols against XBT (eg ETHXBT), but not on symbols backed against other currencies (eg ETHUSD, XBTJPY etc can not use % amounts and must use fixed amounts).)<br><br> Required if <code>position</code> is not used.</p>"          },          {            "group": "Parameter",            "type": "String",            "optional": true,            "field": "tag",            "description": "<p>Tag this order with the value given, so it can be canceled later in the action list with <code>cancelOrders()</code>.</p>"          }        ]      }    },    "success": {      "examples": [        {          "title": "Bitfinex Example",          "content": "# On Bitfinex BTCUSD pair, place 40 buy orders between $0 and $20 orders below\n# the current price. As each order is filled, a new sell order is place $30 away.\n# Once all the sells fill, the order will complete.\nbitfinex(BTCUSD) {\n  pingPongOrder(from=0, to=20, orderCount=40, amount=10, side=buy, pongDistance=30, endless=false)\n}",          "type": "json"        }      ]    },    "filename": "src/commands.js",    "groupTitle": "Command_Reference"  },  {    "type": "",    "url": "scaledOrder",    "title": "scaledOrder",    "name": "scaledOrder",    "version": "1.0.0",    "description": "<p>Place a series of limit orders over a range of prices. Note that due to order size rounding implemented by each of the exchanges, it is possible that the final total of orders is slightly different from the amount requested.</p>",    "group": "Command_Reference",    "parameter": {      "fields": {        "Parameter": [          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "from",            "defaultValue": "0",            "description": "<p>The offset from the current price to start placing orders. See <code>offset</code> in limitOrder.</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "to",            "defaultValue": "100",            "description": "<p>The offset from the current price to finish placing orders. See <code>offset</code> in limitOrder.</p>"          },          {            "group": "Parameter",            "type": "Number",            "size": "2-100",            "optional": true,            "field": "orderCount",            "defaultValue": "10",            "description": "<p>The number of orders to place between <code>from</code> and <code>to</code>.</p>"          },          {            "group": "Parameter",            "type": "String",            "allowedValues": [              "\"linear\"",              "\"ease-in\"",              "\"ease-out\"",              "\"ease-in-out\""            ],            "optional": true,            "field": "easing",            "defaultValue": "linear",            "description": "<p>The easing method to use when spacing the orders out in the range between <code>from</code> and <code>to</code>.<br> <code>linear</code> will place all the orders evenly spaced out between <code>from</code> and <code>to</code>.<br> <code>ease-in</code> will bunch the orders up closer to <code>from</code>.<br> <code>ease-out</code> will bunch up the orders closer to <code>to</code>.<br> <code>ease-in-out</code> will bunch the orders up closer to <code>from</code> and <code>to</code> away from the middle of the range.</p>"          },          {            "group": "Parameter",            "type": "Number",            "size": "0-1",            "optional": true,            "field": "varyAmount",            "defaultValue": "0",            "description": "<p>How much, as a percentage, should the amount of individual orders be randomised by. Can accept numbers, like <code>0.1</code>, or percentages like <code>10%</code>. For example, with a total amount of 1000, and an orderCount of 10, each order will be for 100 units. With a 10% varyAmount, each order will be between 90 and 110 units.</p>"          },          {            "group": "Parameter",            "type": "Number",            "size": "0-1",            "optional": true,            "field": "varyPrice",            "defaultValue": "0",            "description": "<p>How much, as a percentage, should the price of individual orders be randomised by.</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "position",            "description": "<p>Sets the target position size, which is the size of your open position after the trade completes. If you use <code>position</code>, then you do not need to use <code>side</code> or <code>amount</code> as these are calculated for you.<br><br> The amount traded will be the difference between your current open position and the target position size. For example, if your current position is -100 contracts (you're short 100 contracts), and you pass in a position of 300, then an order will be placed to buy 400 contracts. This ensures we get from the current -100 to our desired target of +300.<br><br> On spot exchanges, like Bitfinex, the target amount represents the amount of the asset you'd like to end up with. For example, on the BTCUSD pair, position would represent the amount of BTC you'd like to own after the order completes. If your balance is current 4 btc and you set <code>position</code> to 3, it will result in a sell of 1btc (to take you from the current 4 btc balance to the desired 3 btc balance). However, if your balance was 0 btc, then it would result in a buy of 3 btc.<br><br> Note that the amount to actually trade is calculated from your current open position at the moment the action is executed and does not take into account other open orders.<br><br> If you do not have enough funds to complete the order, all available funds will be used to get as close as possible to the target position.<br><br> Required if <code>side</code> and <code>amount</code> are not used. <code>side</code> and <code>amount</code> are ignored if <code>position</code> is used.</p>"          },          {            "group": "Parameter",            "type": "String",            "allowedValues": [              "\"buy\"",              "\"sell\""            ],            "optional": true,            "field": "side",            "defaultValue": "buy",            "description": "<p>Is this a buy or sell order. Required if <code>position</code> is not used.</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "amount",            "defaultValue": "0",            "description": "<p>The size of the order. The units depend on the symbol and exchange.<br><br> How the amount if interpreted depends on the exchange. Spot exchanges like Bitfinex will treat the amount as the quantity of the asset to buy or sell. For example, on the BTCUSD pair the amount would be measured in BTC.<br><br> % can be used to allocate a percentage of your balance/equity for the order. For example, if you have a balance of 1 BTC and use <code>amount=50%</code>, then the order will be for 0.5 BTC. <br><br> %% can be used to allocate a percentage of available funds for your order. For example, if you have a balance of 1 BTC, but only 0.5 BTC is available (perhaps the rest is locked up in another pending order) and use <code>amount=50%%</code>, then the order will be for 0.25 BTC (half of what is available).<br><br> Percentage amounts are supported on most (but not all) symbols on BitMEX (only available via <a href=\"https://alertatron.com/\">https://alertatron.com/</a>). XBTUSD is supported and all symbols against XBT (eg ETHXBT), but not on symbols backed against other currencies (eg ETHUSD, XBTJPY etc can not use % amounts and must use fixed amounts).)<br><br> Required if <code>position</code> is not used.</p>"          },          {            "group": "Parameter",            "type": "String",            "optional": true,            "field": "tag",            "description": "<p>Tag this order with the value given, so it can be canceled later in the action list with <code>cancelOrders()</code>.</p>"          }        ]      }    },    "success": {      "examples": [        {          "title": "Deribit Example",          "content": "# On Deribit BTC-PERPETUAL contact, place 20 buy orders between $5 and $100 orders below\n# the current price. Each order will be for 0.05btc.\nderibit(BTC-PERPETUAL) {\n    scaledOrder(from=5, to=100, orderCount=20, amount=1, side=buy, tag=scaleMeIn);\n}",          "type": "json"        }      ]    },    "filename": "src/commands.js",    "groupTitle": "Command_Reference"  },  {    "type": "",    "url": "steppedMarketOrder",    "title": "steppedMarketOrder",    "name": "steppedMarketOrder",    "version": "1.0.0",    "description": "<p>This has been deprecated and is now called twapOrder. Still works the same though. See <a href=\"#api-Command_Reference-twapOrder\">twapOrder</a> for details...</p>",    "group": "Command_Reference",    "filename": "src/commands.js",    "groupTitle": "Command_Reference"  },  {    "type": "",    "url": "stop",    "title": "stop",    "name": "stop",    "version": "1.0.0",    "description": "<p>Evaluates some condition and will only stop execution of the commands if it is true. See also <a href=\"#api-Command_Reference-continue\">continue</a> which is the same, but with inverted logic.</p>",    "group": "Command_Reference",    "parameter": {      "fields": {        "Parameter": [          {            "group": "Parameter",            "type": "String",            "optional": false,            "field": "if",            "defaultValue": "always",            "description": "<p>The name of the condition to check<br> See <a href=\"#api-Command_Reference-continue\">continue</a> for all possible values.</p>"          },          {            "group": "Parameter",            "type": "String",            "optional": true,            "field": "value",            "description": "<p>The value to compare against, if needed. It's value will depend on the condition being tested.</p>"          }        ]      }    },    "success": {      "examples": [        {          "title": "Deribit Example",          "content": "# Check the current position size and stop if it is too large.\n# If it exceeds 1000, stop and exit\n# If it is under 1000, then place a limit order to buy 500 contracts\nderibit(BTC-PERPETUAL) {\n    stop(if=positionGreaterThan, value=1000);\n    limitOrder(side=buy, amount=500, offset=10);\n}",          "type": "json"        }      ]    },    "filename": "src/commands.js",    "groupTitle": "Command_Reference"  },  {    "type": "",    "url": "stopMarketOrder",    "title": "stopMarketOrder",    "name": "stopMarketOrder",    "version": "1.0.0",    "description": "<p>Place a stop market order. Where supported, the order will be placed with 'reduce only' enabled to ensure it can only reduce your position size (not increase it).<br><br>Take care using <code>position</code> for stop orders, as the size of the order is calculated at the time the order is placed, not when it is executed. For example, if you have no open positions and trigger a limit order, then immediately a stop order, the limit order will not have been filled yet when the stop order is placed, so your position is likely to still be zero. Instead, use a market order to get into position, or wait after placing the limit order (though there is still a risk it won't have been fully filled), or don't use <code>position</code> to set the size of your stop orders.</p>",    "group": "Command_Reference",    "parameter": {      "fields": {        "Parameter": [          {            "group": "Parameter",            "type": "Number",            "optional": false,            "field": "offset",            "defaultValue": "0",            "description": "<p>The offset from the current price. This is similar to <code>offset</code> in other order types. However, buy order will be offset to a price higher than the current price, and sells will be offset to a price lower.</p>"          },          {            "group": "Parameter",            "type": "String",            "allowedValues": [              "\"index\"",              "\"mark\"",              "\"last\""            ],            "optional": true,            "field": "trigger",            "defaultValue": "mark",            "description": "<p>Determine which price to trigger the stop order on, if supported. <code>index</code> represents the underlying index price, <code>mark</code> is the mark price and <code>last</code> is the last traded price.</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "position",            "description": "<p>Sets the target position size, which is the size of your open position after the trade completes. If you use <code>position</code>, then you do not need to use <code>side</code> or <code>amount</code> as these are calculated for you.<br><br> The amount traded will be the difference between your current open position and the target position size. For example, if your current position is -100 contracts (you're short 100 contracts), and you pass in a position of 300, then an order will be placed to buy 400 contracts. This ensures we get from the current -100 to our desired target of +300.<br><br> On spot exchanges, like Bitfinex, the target amount represents the amount of the asset you'd like to end up with. For example, on the BTCUSD pair, position would represent the amount of BTC you'd like to own after the order completes. If your balance is current 4 btc and you set <code>position</code> to 3, it will result in a sell of 1btc (to take you from the current 4 btc balance to the desired 3 btc balance). However, if your balance was 0 btc, then it would result in a buy of 3 btc.<br><br> Note that the amount to actually trade is calculated from your current open position at the moment the action is executed and does not take into account other open orders.<br><br> If you do not have enough funds to complete the order, all available funds will be used to get as close as possible to the target position.<br><br> Required if <code>side</code> and <code>amount</code> are not used. <code>side</code> and <code>amount</code> are ignored if <code>position</code> is used.</p>"          },          {            "group": "Parameter",            "type": "String",            "allowedValues": [              "\"buy\"",              "\"sell\""            ],            "optional": true,            "field": "side",            "defaultValue": "buy",            "description": "<p>Is this a buy or sell order. Required if <code>position</code> is not used.</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "amount",            "defaultValue": "0",            "description": "<p>The size of the order. The units depend on the symbol and exchange.<br><br> How the amount if interpreted depends on the exchange. Spot exchanges like Bitfinex will treat the amount as the quantity of the asset to buy or sell. For example, on the BTCUSD pair the amount would be measured in BTC.<br><br> % can be used to allocate a percentage of your balance/equity for the order. For example, if you have a balance of 1 BTC and use <code>amount=50%</code>, then the order will be for 0.5 BTC. <br><br> %% can be used to allocate a percentage of available funds for your order. For example, if you have a balance of 1 BTC, but only 0.5 BTC is available (perhaps the rest is locked up in another pending order) and use <code>amount=50%%</code>, then the order will be for 0.25 BTC (half of what is available).<br><br> Percentage amounts are supported on most (but not all) symbols on BitMEX (only available via <a href=\"https://alertatron.com/\">https://alertatron.com/</a>). XBTUSD is supported and all symbols against XBT (eg ETHXBT), but not on symbols backed against other currencies (eg ETHUSD, XBTJPY etc can not use % amounts and must use fixed amounts).)<br><br> Required if <code>position</code> is not used.</p>"          },          {            "group": "Parameter",            "type": "String",            "optional": true,            "field": "tag",            "description": "<p>Tag this order with the value given, so it can be canceled later in the action list with <code>cancelOrders()</code>.</p>"          }        ]      }    },    "error": {      "fields": {        "Compatibility": [          {            "group": "Compatibility",            "optional": false,            "field": "deribit",            "description": "<p>Only supports <code>mark</code> and <code>index</code> triggers</p>"          },          {            "group": "Compatibility",            "optional": false,            "field": "bitfinex",            "description": "<p>trigger is ignored.</p>"          }        ]      }    },    "success": {      "examples": [        {          "title": "Bitfinex Example",          "content": "# On Bitfinex BTCUSD pair, place a market order for 1btc and a stop loss 1% below entry\nbitfinex(BTCUSD) {\n    marketOrder(side=buy, amount=1);\n    stopMarketOrder(side=sell, amount=1, offset=1%)\n}",          "type": "json"        },        {          "title": "Deribit Example",          "content": "# On Deribit BTC-PERPETUAL contact, update our open position to +1000 contracts\n# and set it up a stop loss market order if the price drops 1% from here.\nderibit(BTC-PERPETUAL) {\n    marketOrder(position=1000);\n    stopMarketOrder(side=sell, amount=1000, offset=1%)\n}",          "type": "json"        }      ]    },    "filename": "src/commands.js",    "groupTitle": "Command_Reference"  },  {    "type": "",    "url": "stopOrTakeProfitOrder",    "title": "stopOrTakeProfitOrder",    "name": "stopOrTakeProfitOrder",    "version": "1.0.0",    "description": "<p>Places a Take Profit order and a Stop Loss order at the same time. It then waits for either order to be filled and cancels the other one.</p>",    "group": "Command_Reference",    "parameter": {      "fields": {        "Parameter": [          {            "group": "Parameter",            "type": "String",            "allowedValues": [              "\"buy\"",              "\"sell\""            ],            "optional": false,            "field": "side",            "defaultValue": "buy",            "description": "<p>Should the orders to be placed be Buy or Sell orders. If you are looking to take profit from a Long, then you'll to place sell orders, for example.</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": false,            "field": "tp",            "defaultValue": "100",            "description": "<p>The offset from the current price or absolute price at which the Take Profit should be placed. The order will be added as a limit order. Tha value can accept any value that is supported by limitOrders offset value.</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": false,            "field": "sl",            "defaultValue": "100",            "description": "<p>The offset from the current price or absolute price at which the Stop Loss order should be placed. The order will be added as a stopMarketOrder. It can accept any value that is supported by stopMarketOrders offset value.</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": false,            "field": "amount",            "defaultValue": "0",            "description": "<p>The size of the take profit and stop loss orders. The amount can be any value that is accepted by the amount field in a limitOrder or stopMarketOrder.</p>"          },          {            "group": "Parameter",            "type": "String",            "optional": true,            "field": "tag",            "description": "<p>Tag this order with the value given, so it can be canceled later in the action list with <code>cancelOrders()</code>.</p>"          }        ]      }    },    "success": {      "examples": [        {          "title": "Deribit Example",          "content": "# Enter a long position at the current price\n# The place a take profit order $100 above the current price, and a stop loss order $50 below the current price.\nderibit(BTC-PERPETUAL) {\n    aggressiveEntryOrder(side=buy, amount=1);\n    stopOrTakeProfitOrder(side=sell, tp=100, sl=50, amount=1);\n}",          "type": "json"        }      ]    },    "filename": "src/commands.js",    "groupTitle": "Command_Reference"  },  {    "type": "",    "url": "trailingStopLoss",    "title": "trailingStopLoss",    "name": "trailingStopLoss",    "version": "1.0.0",    "description": "<p>Place a trailing stop market order. When the command first executes, it will place a stop market order at a distance of <code>offset</code> from the current price ('offset' below the current price for sell order, and 'offset' above the current price for a buy order). In the background, the command will then monitor the price. For a sell stop market order, the order will move to a higher price each time the price reaches a new high, always keeping the order 'offset' away from the local high. For a buy order, the opposite happens, tracking new lows. When the price turn and drops to meet your stop market order, it will be triggered and filled and this command will stop.</p>",    "group": "Command_Reference",    "parameter": {      "fields": {        "Parameter": [          {            "group": "Parameter",            "type": "Number",            "optional": false,            "field": "offset",            "defaultValue": "0",            "description": "<p>The distance to trail the price by. For example, for a stop order that will sell when triggered, the offset is how far below the current price the initial order will be placed at. The order will continue to move up as the price reaches new highs, staying a distance of <code>offset</code> from that high price. Offset can accept a value as a number, a percentage, or an absolute price. For example, on a BTCUSD pair, '50' is an offset of $50, '3%' if an offset of 3% of the current price, and '@10000' is treated as the absolute price ($10,000 in this example). For absolute offsets, we calculate the difference between the current price and the absolute price, and use that distance as the trailing offset.</p>"          },          {            "group": "Parameter",            "type": "String",            "allowedValues": [              "\"index\"",              "\"mark\"",              "\"last\""            ],            "optional": true,            "field": "trigger",            "defaultValue": "mark",            "description": "<p>Determine which price to trigger the stop order on, if supported. <code>index</code> represents the underlying index price, <code>mark</code> is the mark price and <code>last</code> is the last traded price.</p>"          },          {            "group": "Parameter",            "type": "Boolean",            "optional": false,            "field": "background",            "defaultValue": "true",            "description": "<p>True to run this command in the background. If true, as soon as the stop order is placed the bot will move on to the next command in the list. When all the commands are complete the trailing stop order will be updated as the price moves, in the background. This is the recommended way of using this command. If false, then the command will wait for the stop order to be filled before the next command is executed.</p>"          },          {            "group": "Parameter",            "type": "String",            "allowedValues": [              "\"buy\"",              "\"sell\""            ],            "optional": true,            "field": "side",            "defaultValue": "buy",            "description": "<p>Is this a buy or sell order. Required if <code>position</code> is not used.</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "amount",            "defaultValue": "0",            "description": "<p>The size of the order. The units depend on the symbol and exchange.<br><br> How the amount if interpreted depends on the exchange. Spot exchanges like Bitfinex will treat the amount as the quantity of the asset to buy or sell. For example, on the BTCUSD pair the amount would be measured in BTC.<br><br> % can be used to allocate a percentage of your balance/equity for the order. For example, if you have a balance of 1 BTC and use <code>amount=50%</code>, then the order will be for 0.5 BTC. <br><br> %% can be used to allocate a percentage of available funds for your order. For example, if you have a balance of 1 BTC, but only 0.5 BTC is available (perhaps the rest is locked up in another pending order) and use <code>amount=50%%</code>, then the order will be for 0.25 BTC (half of what is available).<br><br> Percentage amounts are supported on most (but not all) symbols on BitMEX (only available via <a href=\"https://alertatron.com/\">https://alertatron.com/</a>). XBTUSD is supported and all symbols against XBT (eg ETHXBT), but not on symbols backed against other currencies (eg ETHUSD, XBTJPY etc can not use % amounts and must use fixed amounts).)<br><br> Required if <code>position</code> is not used.</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "position",            "description": "<p>Sets the target position size, which is the size of your open position after the trade completes. If you use <code>position</code>, then you do not need to use <code>side</code> or <code>amount</code> as these are calculated for you.<br><br> The amount traded will be the difference between your current open position and the target position size. For example, if your current position is -100 contracts (you're short 100 contracts), and you pass in a position of 300, then an order will be placed to buy 400 contracts. This ensures we get from the current -100 to our desired target of +300.<br><br> On spot exchanges, like Bitfinex, the target amount represents the amount of the asset you'd like to end up with. For example, on the BTCUSD pair, position would represent the amount of BTC you'd like to own after the order completes. If your balance is current 4 btc and you set <code>position</code> to 3, it will result in a sell of 1btc (to take you from the current 4 btc balance to the desired 3 btc balance). However, if your balance was 0 btc, then it would result in a buy of 3 btc.<br><br> Note that the amount to actually trade is calculated from your current open position at the moment the action is executed and does not take into account other open orders.<br><br> If you do not have enough funds to complete the order, all available funds will be used to get as close as possible to the target position.<br><br> Required if <code>side</code> and <code>amount</code> are not used. <code>side</code> and <code>amount</code> are ignored if <code>position</code> is used.</p>"          },          {            "group": "Parameter",            "type": "String",            "optional": true,            "field": "tag",            "description": "<p>Tag this order with the value given, so it can be canceled later in the action list with <code>cancelOrders()</code>.</p>"          }        ]      }    },    "error": {      "fields": {        "Compatibility": [          {            "group": "Compatibility",            "optional": false,            "field": "bitfinex",            "description": "<p>Not supported at this time</p>"          },          {            "group": "Compatibility",            "optional": false,            "field": "Coinbase",            "description": "<p>Not supported at this time</p>"          }        ]      }    },    "success": {      "examples": [        {          "title": "Bitmex Example",          "content": "# On BitMEX XBTUSD contact, open a 1000 contract long using a market order, then\n# open a stop market sell, also for 1000 contracts, that will be initially placed $100 below the\n# current price. As the price rises, the stop will move up, always keeping $100 below the local high.\n# When the price drops $100 from a local high, the stop will be triggered and executed as a normal stop market order.\nbitmex(XBTUSD) {\n    marketOrder(position=1000);\n    trailingStopLossOrder(side=sell, amount=1000, offset=100)\n}",          "type": "json"        }      ]    },    "filename": "src/commands.js",    "groupTitle": "Command_Reference"  },  {    "type": "",    "url": "trailingTakeProfit",    "title": "trailingTakeProfit",    "name": "trailingTakeProfit",    "version": "1.0.0",    "description": "<p>This works in the same way as the trailingStopLossOrder, but is only started when the price reaches an initial trigger level. In other words, this command waits for the price to reach an initial target price (<code>triggerOffset</code> away from the current price), then opens a trailing stop loss order at that point.</p>",    "group": "Command_Reference",    "parameter": {      "fields": {        "Parameter": [          {            "group": "Parameter",            "type": "Number",            "optional": false,            "field": "triggerOffset",            "defaultValue": "1%",            "description": "<p>The distance from the current price to the initial target price, where the trailing stop loss order will be started.</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": false,            "field": "offset",            "defaultValue": "0",            "description": "<p>The distance to trail the price by. For example, for a stop order that will sell when triggered, the offset is how far below the current price the initial order will be placed at. The order will continue to move up as the price reaches new highs, staying a distance of <code>offset</code> from that high price. Offset can accept a value as a number, a percentage, or an absolute price. For example, on a BTCUSD pair, '50' is an offset of $50, '3%' if an offset of 3% of the current price, and '@10000' is treated as the absolute price ($10,000 in this example). For absolute offsets, we calculate the difference between the current price and the absolute price, and use that distance as the trailing offset.</p>"          },          {            "group": "Parameter",            "type": "String",            "allowedValues": [              "\"index\"",              "\"mark\"",              "\"last\""            ],            "optional": true,            "field": "trigger",            "defaultValue": "mark",            "description": "<p>Determine which price to trigger the stop order on, if supported. <code>index</code> represents the underlying index price, <code>mark</code> is the mark price and <code>last</code> is the last traded price.</p>"          },          {            "group": "Parameter",            "type": "Boolean",            "optional": false,            "field": "background",            "defaultValue": "true",            "description": "<p>True to run this command in the background. If true, as soon as the stop order is placed the bot will move on to the next command in the list. When all the commands are complete the trailing stop order will be updated as the price moves, in the background. This is the recommended way of using this command. If false, then the command will wait for the stop order to be filled before the next command is executed.</p>"          },          {            "group": "Parameter",            "type": "String",            "allowedValues": [              "\"buy\"",              "\"sell\""            ],            "optional": true,            "field": "side",            "defaultValue": "buy",            "description": "<p>Is this a buy or sell order. Required if <code>position</code> is not used.</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "amount",            "defaultValue": "0",            "description": "<p>The size of the order. The units depend on the symbol and exchange.<br><br> How the amount if interpreted depends on the exchange. Spot exchanges like Bitfinex will treat the amount as the quantity of the asset to buy or sell. For example, on the BTCUSD pair the amount would be measured in BTC.<br><br> % can be used to allocate a percentage of your balance/equity for the order. For example, if you have a balance of 1 BTC and use <code>amount=50%</code>, then the order will be for 0.5 BTC. <br><br> %% can be used to allocate a percentage of available funds for your order. For example, if you have a balance of 1 BTC, but only 0.5 BTC is available (perhaps the rest is locked up in another pending order) and use <code>amount=50%%</code>, then the order will be for 0.25 BTC (half of what is available).<br><br> Percentage amounts are supported on most (but not all) symbols on BitMEX (only available via <a href=\"https://alertatron.com/\">https://alertatron.com/</a>). XBTUSD is supported and all symbols against XBT (eg ETHXBT), but not on symbols backed against other currencies (eg ETHUSD, XBTJPY etc can not use % amounts and must use fixed amounts).)<br><br> Required if <code>position</code> is not used.</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "position",            "description": "<p>Sets the target position size, which is the size of your open position after the trade completes. If you use <code>position</code>, then you do not need to use <code>side</code> or <code>amount</code> as these are calculated for you.<br><br> The amount traded will be the difference between your current open position and the target position size. For example, if your current position is -100 contracts (you're short 100 contracts), and you pass in a position of 300, then an order will be placed to buy 400 contracts. This ensures we get from the current -100 to our desired target of +300.<br><br> On spot exchanges, like Bitfinex, the target amount represents the amount of the asset you'd like to end up with. For example, on the BTCUSD pair, position would represent the amount of BTC you'd like to own after the order completes. If your balance is current 4 btc and you set <code>position</code> to 3, it will result in a sell of 1btc (to take you from the current 4 btc balance to the desired 3 btc balance). However, if your balance was 0 btc, then it would result in a buy of 3 btc.<br><br> Note that the amount to actually trade is calculated from your current open position at the moment the action is executed and does not take into account other open orders.<br><br> If you do not have enough funds to complete the order, all available funds will be used to get as close as possible to the target position.<br><br> Required if <code>side</code> and <code>amount</code> are not used. <code>side</code> and <code>amount</code> are ignored if <code>position</code> is used.</p>"          },          {            "group": "Parameter",            "type": "String",            "optional": true,            "field": "tag",            "description": "<p>Tag this order with the value given, so it can be canceled later in the action list with <code>cancelOrders()</code>.</p>"          }        ]      }    },    "error": {      "fields": {        "Compatibility": [          {            "group": "Compatibility",            "optional": false,            "field": "bitfinex",            "description": "<p>Not supported at this time</p>"          },          {            "group": "Compatibility",            "optional": false,            "field": "Coinbase",            "description": "<p>Not supported at this time</p>"          }        ]      }    },    "success": {      "examples": [        {          "title": "Bitmex Example",          "content": "# On BitMEX XBTUSD contact, open a 1000 contract long using a market order, then\n# wait for the price to go up 3%. When the price touches the 3% target, a trailing stop order\n# is opened that will trail the current highs by 0.5%. As the price continues to rise, so the stop order\n# will move up with it. When the price pulls back again, the stop will be triggered.\nbitmex(XBTUSD) {\n    marketOrder(side=buy, amount=1000);\n    trailingTakeProfitOrder(side=sell, amount=1000, offset=0.5%, triggerOffset=3%)\n}",          "type": "json"        }      ]    },    "filename": "src/commands.js",    "groupTitle": "Command_Reference"  },  {    "type": "",    "url": "twapOrder",    "title": "twapOrder",    "name": "twapOrder",    "version": "1.0.0",    "description": "<p>Also known as Time-Weighted Average Price (TWAP). Place a series of market orders over an extended period of time. The amount will be split between all the orders. After each market order is executed there will be a delay for <code>(duration / orderCount)</code> seconds. For example, if duration is 60 seconds, and the orderCount is 10, then there will be a (60 / 10) = 6 second delay between each order.</p>",    "group": "Command_Reference",    "parameter": {      "fields": {        "Parameter": [          {            "group": "Parameter",            "type": "Number",            "size": "1-100",            "optional": true,            "field": "orderCount",            "defaultValue": "10",            "description": "<p>The number of orders to place.</p>"          },          {            "group": "Parameter",            "type": "TimeString",            "optional": true,            "field": "duration",            "defaultValue": "60s",            "description": "<p>The amount of time to spread the orders over. Supports a number in seconds, or s, m, or h suffix for seconds, minutes and hours (eg 5m = 5 minutes, 2h = 2 hours)</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "position",            "description": "<p>Sets the target position size, which is the size of your open position after the trade completes. If you use <code>position</code>, then you do not need to use <code>side</code> or <code>amount</code> as these are calculated for you.<br><br> The amount traded will be the difference between your current open position and the target position size. For example, if your current position is -100 contracts (you're short 100 contracts), and you pass in a position of 300, then an order will be placed to buy 400 contracts. This ensures we get from the current -100 to our desired target of +300.<br><br> On spot exchanges, like Bitfinex, the target amount represents the amount of the asset you'd like to end up with. For example, on the BTCUSD pair, position would represent the amount of BTC you'd like to own after the order completes. If your balance is current 4 btc and you set <code>position</code> to 3, it will result in a sell of 1btc (to take you from the current 4 btc balance to the desired 3 btc balance). However, if your balance was 0 btc, then it would result in a buy of 3 btc.<br><br> Note that the amount to actually trade is calculated from your current open position at the moment the action is executed and does not take into account other open orders.<br><br> If you do not have enough funds to complete the order, all available funds will be used to get as close as possible to the target position.<br><br> Required if <code>side</code> and <code>amount</code> are not used. <code>side</code> and <code>amount</code> are ignored if <code>position</code> is used.</p>"          },          {            "group": "Parameter",            "type": "String",            "allowedValues": [              "\"buy\"",              "\"sell\""            ],            "optional": true,            "field": "side",            "defaultValue": "buy",            "description": "<p>Is this a buy or sell order. Required if <code>position</code> is not used.</p>"          },          {            "group": "Parameter",            "type": "Number",            "optional": true,            "field": "amount",            "defaultValue": "0",            "description": "<p>The size of the order. The units depend on the symbol and exchange.<br><br> How the amount if interpreted depends on the exchange. Spot exchanges like Bitfinex will treat the amount as the quantity of the asset to buy or sell. For example, on the BTCUSD pair the amount would be measured in BTC.<br><br> % can be used to allocate a percentage of your balance/equity for the order. For example, if you have a balance of 1 BTC and use <code>amount=50%</code>, then the order will be for 0.5 BTC. <br><br> %% can be used to allocate a percentage of available funds for your order. For example, if you have a balance of 1 BTC, but only 0.5 BTC is available (perhaps the rest is locked up in another pending order) and use <code>amount=50%%</code>, then the order will be for 0.25 BTC (half of what is available).<br><br> Percentage amounts are supported on most (but not all) symbols on BitMEX (only available via <a href=\"https://alertatron.com/\">https://alertatron.com/</a>). XBTUSD is supported and all symbols against XBT (eg ETHXBT), but not on symbols backed against other currencies (eg ETHUSD, XBTJPY etc can not use % amounts and must use fixed amounts).)<br><br> Required if <code>position</code> is not used.</p>"          },          {            "group": "Parameter",            "type": "String",            "optional": true,            "field": "tag",            "description": "<p>Tag this order with the value given, so it can be canceled later in the action list with <code>cancelOrders()</code>.</p>"          }        ]      }    },    "success": {      "examples": [        {          "title": "Deribit Example",          "content": "# On Deribit BTC-PERPETUAL contact, place 20 buy orders spread over a 10 minute period\n# in order to buy 1 btc.\nderibit(BTC-PERPETUAL) {\n    twapOrder(orderCount=20, amount=1, side=buy, duration=10m);\n}",          "type": "json"        }      ]    },    "filename": "src/commands.js",    "groupTitle": "Command_Reference"  },  {    "type": "",    "url": "wait",    "title": "wait",    "name": "wait",    "version": "1.0.0",    "description": "<p>Waits for a given amount of time before proceeding to the next command...</p>",    "group": "Command_Reference",    "parameter": {      "fields": {        "Parameter": [          {            "group": "Parameter",            "type": "TimeString",            "optional": false,            "field": "duration",            "defaultValue": "60s",            "description": "<p>The number of seconds to wait. Can also include units, so <code>10</code> is 10 seconds, <code>10s</code> is also 10 seconds, <code>10m</code> is 10 minutes and <code>10h</code> is 10 hours.</p>"          }        ]      }    },    "success": {      "examples": [        {          "title": "Example",          "content": "# Place a limit order to go all in, wait 30 minutes for it to fill\n# then replace it with a market order if it wasn't filled\nbitfinex(BTCUSD) {\n    limitOrder(side=buy, amount=100%, offset=10, tag=allIn)\n    wait(30m);\n    cancelOrders(tagged, allIn)\n    marketOrder(side=buy, amount=100%);\n}",          "type": "json"        }      ]    },    "filename": "src/commands.js",    "groupTitle": "Command_Reference"  }] });
