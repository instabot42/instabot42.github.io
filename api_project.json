{  "name": "Instabot Trader",  "version": "1.0.0",  "description": "Auto trade anywhere from anything.",  "title": "Instabot Trader",  "header": {    "title": "Introduction",    "content": "<ul>\n<li><a href=\"#api-setup\">Setup Guide</a></li>\n<li><a href=\"#api-format\">Message Format</a></li>\n<li><a href=\"#api-macros\">Macros</a></li>\n<li><a href=\"#sections\">Command Reference</a></li>\n<li><a href=\"#api-_footer\">License</a></li>\n</ul>\n<blockquote>\n<p><strong>DISCLAIMER:</strong> <em>This package is in development and makes no guarantee that it is able to do any of\nthe things described here. Use only at your own risk.</em></p>\n</blockquote>\n<h1 id=\"api-intro\">Introduction</h1>\n<p><strong>Instabot Trader ü§ñ</strong> helps you to automate placing complex trades on a selection of exchanges.</p>\n<p>Trigger your trades from...</p>\n<ul>\n<li><strong>TradingView alerts</strong></li>\n<li><strong>Telegram</strong></li>\n<li>Anything that can send an HTTP request (A simple web form, Zapier,\nemail routers like Mailgun, SMS routers like Twilio, etc).</li>\n<li>even from the command line, if that's your thing.</li>\n</ul>\n<p>Place simple limit orders or complex sequences of trades...</p>\n<ul>\n<li><strong>Scaled orders</strong>, even on exchanges that don't offer this (like Bitmex and Deribit)</li>\n<li><strong>Stepped market orders</strong> (a series of market orders spread over a period of time)</li>\n<li>Basic limit, market and stop orders</li>\n<li>Send yourself notifications (<strong>SMS</strong> or <strong>Slack</strong>) of progress and account balances / status.</li>\n<li>Chains of the above (for example, scaled order, wait a while, cancel unfilled orders,\nreplace with market orders etc)</li>\n</ul>\n<p>Do you fear the dredded 'system overload' messages on Bitmex. Instbot Trader will repeatably\nretry your orders to maximise the chance of them getting through the log jam.</p>\n<div id=\"donate\">\n<h2>All donations gratefully accepted! üëä</h2>\n<p>If you're using this to help you trade 24/7, it would be great if you could throw me a few Satoshi\nfrom time to time to say thanks.</p>\n<ul>\n<li><strong>Bitcoin</strong>: 39vBjyAu65vYEd7thnW75V7eULTcz7wgxV</li>\n<li><strong>Litecoin</strong>: LUov5izfzuDakBeLGGCtyzmZcwCB2nXBDY</li>\n<li><strong>Ethereum</strong>: 0x2F18958381D3a1025e136b5AEF727dDa132602f8</li>\n</ul>\n<p>Thank you... üéâ</p>\n</div>\n<br>\n<h2>What does it do? How does it work?</h2>\n<p>You send some text to Instabot Trader. The text contains commands.\nThe commands are are converted into suitabled API calls to an exchange. Orders are placed. Lambos!</p>\n<p>Each message looks a bit like this...</p>\n<pre><code>Any text you like here...\nWant this text sent as an SMS to your phone? \nthen add this somewhere-&gt; {!}\n\nNext, we have a set of actions that \nwill be executed on an exchange...\n\nexchangeName( instrument ) {\n    action1(value1=x, value2=y);\n    action2(value1=x, value2=y);\n}\n\nYou can have more action lists here, so you can execute commands\non several exchanges at the same time.\n</code></pre>\n<h2>Give us a simple example...</h2>\n<p>OK, lets place a limit order at Bitfinex to buy 1 BTC on the BTCUSD pair. We'll put the\nbid in $50 below the current price...</p>\n<pre><code>bitfinex(BTCUSD) { limitOrder(side=buy, amount=1btc, offset=50); } \n</code></pre>\n<p>or how about place a scaled order on Bitmex's perpetual swap (XBTUSD). Same amount, but lets\nspread it over 25 orders from $20 below the current price, down to $70\nbelow the current price...</p>\n<pre><code>Scaling in on mex...\nbitmex(XBTUSD) { \n  scaledOrder(side=buy, amount=1btc, from=20, to=70, orderCount=25); \n} \n</code></pre>\n<p>Easy.</p>\n<h2>But how do I send these messages?</h2>\n<p>If you use TradingView, set up an alert that triggers when you want to trade.\nSet the Alert Message to the commands you'd like to execute, like the examples above.\nChange a couple of settings\nin TradingView and then you'll trigger some actions every time that alert fires.\n24 hours a day, 7 days a week.\n(see the setup and config sections below for details on setting this up).</p>\n<p>Instabot Trader listens for messages sent to it over the web, so anything\nthat can make HTTP requests will be able to trigger the bot to execute\ntrades for you. It's possible to set it up to respond to emails, SMS messages\nor to build a simple html page that sends commands when you click a button.\nSee the setup guides for more details.</p>\n<h2>Which exchanges are supported?</h2>\n<ul>\n<li><a href=\"https://www.bitfinex.com/\">Bitfinex</a> - Spot Trading (support for margin trading soon)</li>\n<li><a href=\"https://www.deribit.com/reg-1657.8470\">Deribit</a> - Bitcoin Futures</li>\n<li>Coming soon: <a href=\"https://www.bitmex.com/register/LWpOVZ\">Bitmex</a> - 100x degen gambling</li>\n<li>Coming soon: Binance - shitcoin party</li>\n</ul>\n<hr>\n<h1 id=\"api-setup\">Setup Guide</h1>\n<h2>Installation</h2>\n<p>You'll need <strong><a href=\"https://nodejs.org/en/\">Node.js</a></strong> v10.3.0 or better to run Instabot Trader.</p>\n<p>So, clone or copy the source code to a new folder, then...</p>\n<pre><code class=\"language-bash\">$ git clone https://github.com/instabot42/instabot-trader.git\n$ cd instabot-trader\n$ npm install\n$ npm run setup\n</code></pre>\n<h3>Edit the config</h3>\n<p>The last command above should have created a default config file for you.\nOpen <code>config/local.json</code> in your favourite editor.</p>\n<p>There are several sections here that you can adjust...</p>\n<ul>\n<li><strong>Credentials</strong> - add the API keys for each of the exchanges you want to trade on to this section</li>\n<li><strong>SMS</strong> - Instabot Trader has a built in Twilio integration. If you have a Twilio account you can set\nup the credentials, 'from' phone number and your phone number to send alerts to.</li>\n<li><strong>Slack</strong> - You can have notifications sent to a slack channel. Set up the webhook here.</li>\n<li><strong>Telegram</strong> - If you want to talk to Instabot Trader from Telegram, you'll need to create a bot\n(see <a href=\"https://core.telegram.org/bots#6-botfather\">the botFather</a>) and add the botToken\nto the config. Once you've done that, start a chat with your new bot and have it send\nmessages executed instantly. See the section on Telegram for the commands and shortcuts.</li>\n<li><strong>Server</strong> - here you can change the URL that your server is accessed from, and the port that it listens on</li>\n<li><strong>Macros</strong> - See the section on macros for more details. TLDR; define long lists of commands and trigger the\nwhole list with a single new command.</li>\n</ul>\n<p>You'll need to get an API key and secret from each of the exchanges you want to trade on.\nOnce you have these, update <code>local.json</code> with them and you're ready to start.</p>\n<h3>Launch for the first time</h3>\n<pre><code class=\"language-bash\">$ npm run start\n\n=================================================\n\n  Instabot Trader bot starting  ü§ñ  üöÄ  üåî  üèéÔ∏è \n\n=================================================\n\n</code></pre>\n<p>That's it, you're up and running...</p>\n<hr>\n<h1>Advanced Setup (for full automation)</h1>\n<p>This section covers setting up a secure tunnel, an Email-to-bot service, TradingView email alerts etc. Basically,\nall these bits together can help you set up the bot so it can automatically trade from alerts triggered in\nTradingView, or from other services.</p>\n<p>Ideally you'd host this on a proper server, which makes a several of the steps below unnecessary, but is\ntechnically harder if Devops isn't your thing.</p>\n<h2>Setting things up so you can run the bot from home</h2>\n<p>If you are planning on running the bot at home or from behind a firewall, and don't know how to (or can't) set up\nport forwarding on the network, then you'll need to create a secure tunnel.</p>\n<p><a href=\"https://ngrok.com/\">ngrok</a> is a great way to do this. Download it and set up a tunnel from a public url to\nyour server like so...</p>\n<pre><code class=\"language-bash\">ngrok http -bind-tls=true 3000\n</code></pre>\n<p>Where 3000 is the port number in your config files.</p>\n<p>This will show you the public address that you can use to access your bot from outside your network.\nThe main problem with this is that you'll get a different URL each time you run the command, which can be\ninconvienient, especially when trying to link this up to other services.</p>\n<p>However, for a $5 a month you can have a fixed domain that you can use every time, which is much better. You start\nit a bit like this...</p>\n<pre><code class=\"language-bash\">ngrok http -subdomain=myNewSubDomain -bind-tls=true 3000\n</code></pre>\n<p>I've kept these running for months at a time with no problems at all.</p>\n<h2>Set up an Email listener</h2>\n<p>There are many services out there that can receive emails and make an HTTP request with the details of the message.\nYou can use one of these to enable a method of converting emails into automated trades. This is especially useful\nwhen trying to trigger trades from TradingView, as it offers an option to send alerts via email for free.</p>\n<p>Here we'll cover setting up MailGun to do this, though you can use any service you are familiar with.</p>\n<ul>\n<li>Create an account at <a href=\"https://www.mailgun.com/\">MailGun</a></li>\n<li>Ideally set up a spare domain so MailGun handles its email. You do get a sandbox domain from Mailgun for free\nbut there are more limits on this and it may not be suitable.</li>\n<li>Go to the <code>Routes</code> section and add a new Route. These are used to filter incoming email and then forward\nthem on to a new destination. You can filter by from address, or a secret code you add to all the messages you\nwant to be forwarded to the bot.</li>\n<li>In the action for the Route, make sure you tick 'forward' and enter the full URL for your bot. If your bot\nis running at home behind a firewall, you'll need to have set up a tunnel first (see above).</li>\n<li>Save the rule and test it out. Any email you send to the address that matches you filtering settings should\nend up making a call to your bot if it is running and accessible from Mailguns servers.</li>\n</ul>\n<h2>Set up TradingView</h2>\n<p>TradingView has a very powerful alerting system, allowing you to trigger an alert when any combination of\nindicators do something you consider important. You can also write your own indicators in PineScript and have\nthose fire alerts when interesting things happen too.</p>\n<p>TradingView will let you set up either a phone number for SMS alerts, or an email address for what it\ncalls SMS emails (I think this is meant to enable you to use an email to SMS service, as TradingView has a\nhard limit of only 500 SMS's, even on their most expensive account).</p>\n<p>I recommend using the SMS Email option, as there are no usage limits and it's just as easy to hook up\nan email-to-bot service as it is an SMS-to-bot service.</p>\n<p>Go to your TradingView settings page, and enter the SMS email address in the Private Details section\nof the page. You'll also need to set up that email address so it is forwarded to your bot, but there are\nsome tips on doing this above.</p>\n<h2>Set up SMS</h2>\n<p>This is actually pretty simple.</p>\n<ul>\n<li>Create a Twilio account</li>\n<li>To be able to send SMS messages out (for alerts or account updates), grab the API Credentials from\nthe Programmable SMS section and put these into your <code>config/local.json</code>, along with the number you'd\nlike the messages to be sent to.</li>\n<li>To receive SMS messages that are routed to Instabot Trader, create a new number and set it up\nto call a webhook when a message comes in. Enter the URL for your server and set it to HTTP POST.\nAny SMS sent to that number will be passed on to your server now.</li>\n</ul>\n<h2>Set up Telegram</h2>\n<p>Before you can use the Telegram integration you'll need to create a telegram bot. Don't worry, it's\neasier than it sounds...</p>\n<ul>\n<li>First, in Telegram, you'll need to start a chat with @botFather to create your own chat bot token.\nThere are detailed instructions at\n<a href=\"https://core.telegram.org/bots#6-botfather\">https://core.telegram.org/bots#6-botfather</a>.</li>\n<li>Once you have a token, you can add it to the config in <code>config/local.json</code> and restart Instabot Trader.</li>\n<li>Now you can start a chat with your new bot. Type <code>/help</code> for the help text.</li>\n<li>Anything you say to the telegram bot will now to sent directly to Instabot Trader and will be treated\nas a regular message (commands and all).</li>\n<li>To make things even simpler you can create some shortcuts that you can trigger\nTelegram using <code>/shortcut &lt;name&gt;</code>. The shortcuts are defined in your <code>config/local.json</code> as an array\nof objects. The example below can be executed using <code>/shortcut example</code>...</li>\n</ul>\n<pre><code>{ \n    &quot;name&quot;: &quot;example&quot;, \n    &quot;message&quot;: &quot;Testing... bitfinex(BTCUSD) { wait(5s); } &quot;\n}\n</code></pre>\n<hr>\n<h1 id=\"api-format\">Message Format</h1>\n<p>When a message is received, the following elements are looked for...</p>\n<h3>{!}</h3>\n<p>An explanation mark in curly brackets tells Instabot Trader to take all the text that is not\npart of a command / action list and send it to your phone (assuming your have SMS set up).</p>\n<p>This is great for simple SMS alerts. For example, set up an alert in TradingView when the\nprice crosses an important line and set the alert text like this...</p>\n<pre><code>BTC now over 10K! {!} \n</code></pre>\n<p>You'll get an SMS with the message 'BTC now over 10K!'. There are no commands in the message,\nso that's all that will happen.</p>\n<h3>Actions and commands</h3>\n<p>You can have as many of these as you like in a message. This makes it possible to trigger something\nthat will happen on multiple exchanges, or on multiple pairs/instruments on an exchange.\nAll the blocks are executed simultaneously, allowing\nyou to be placing orders on different exchanges / pairs at the same time.</p>\n<p>Lets look at an example and break it down so you can understand all the parts...</p>\n<pre><code>Going Long {!}\n\nbitfinex(BTCUSD) {\n   limitOrder(side=buy, amount=1, offset=5);\n   slack(msg=&quot;Order placed, on Bitfinex, for 1 BTC&quot;);\n}\n\nderibit(BTC-PERPETUAL) {\n   scaledOrder(position=10000, from=0, to=50, orderCount=30);\n   wait(30m);\n   cancelOrders(session);\n   marketOrder(position=10000);\n}\n</code></pre>\n<p>First up, we'll get sent an SMS with the message 'Going Long'.</p>\n<p>Next, there are 2 blocks. One will target Bitfinex and the second will target Deribit to place orders. Both will\nbe executed at the same time.</p>\n<p>The Bitfinex blocks starts by indicating which pair to trade on (BTCUSD in this example). The list of actions\nto run on the Bitfinex BTCUSD pair are contained between the open and close curly brackets. Each action looks\nlike a function call. It starts with the name of the command, then a list of parameters inside brackets.\nAn optional semi-colon can be seen in the example too.</p>\n<p>The arguments are all named (meaning they all take the form of <code>name = value</code>)and can be listed in any order.\nEach parameter is separated by a comma. The Bitfinex limitOrder action in the example above has 3 parameters -\n<code>side</code>, <code>amount</code> and <code>offset</code>. You'll notice that the <code>slack</code> action uses double quotes around it's value.\nThis is necessary as the value contains commas, but is optional if it does not.</p>\n<p>The actions in the block are executed one at a time. So in the Bitfinex example, the first command is\na limitOrder command. Note that it does not wait for the order to\nbe filled - it only waits until the order has been submitted and accepted by the exchange. Once the limit\norder has been placed, it moves on to the second action (sending a notification to slack).</p>\n<p>The Deribit example shows this ordering more clearly. It will attempt to get into a position cheaply\nusing limit orders over a small price range. It will give this 30 minutes to work, then fall back to a market\norder to finalise the position if any of the limit orders were still unfilled.</p>\n<p>First we place a scaled order, which actually results\nin Instabot Trader placing 30 separate limit orders. How long this takes depends on the rate limits at the\nexchange and for your account (Deribit has pretty high limits, so can probably place all the orders in a\nfraction of a second. The same command on Bitfinex would take a lot longer to execute as it has much lower\nrate limits). Once all the orders are placed, it goes on to the second action, which just waits for 30 minutes.\nAfter 30 minutes it will cancel any outstanding orders that were created by the scaled order action and finally\nplace a market order to get us fully into position.</p>\n<hr>\n<h1 id=\"api-macros\">Macros</h1>\n<p>In your <code>config/local.json</code> file you can define macros. These are simple shortcuts to a list of\ncommands to execute and lets you define your own commands.</p>\n<p>Each macro looks a bit like this...</p>\n<pre><code>{\n    &quot;name&quot;: &quot;myAction&quot;,\n    &quot;actions&quot;: [ &quot;limitOrder(position=1, offset=5);&quot;, &quot;notify(position)&quot;]\n}\n</code></pre>\n<p>So this defines a macro called <code>myAction</code> that will execute 2 commands (the limitOrder and notify commands shown).\nYou can use it like this...</p>\n<pre><code>bitfinex(BTCUSD) { myAction(); }\n</code></pre>\n<p>So why bother? It means shorter messages which can be really useful when they are set up in places that are hard\nto change or update. Instead you can just update the config and restart the bot and you get the new command\nsequence next time the macro is triggered. It also means you don't need to reveal exactly what orders etc you'll\nbe executing to the service that is triggering the action.</p>\n"  },  "footer": {    "title": "License",    "content": "<h2>License</h2>\n<p>Copyright 2018 Instabot</p>\n<p>Permission is hereby granted, free of charge, to any person obtaining a copy of\nthis software and associated documentation files (the &quot;Software&quot;), to deal in the\nSoftware without restriction, including without limitation the rights to use, copy,\nmodify, merge, publish, distribute, sublicense, and/or sell copies of the Software,\nand to permit persons to whom the Software is furnished to do so, subject to the\nfollowing conditions:</p>\n<p>The above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.</p>\n<p>THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\nINCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\nPARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\nHOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\nOF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\nSOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>\n"  },  "sampleUrl": false,  "defaultVersion": "0.0.0",  "apidoc": "0.3.0",  "generator": {    "name": "apidoc",    "time": "2018-10-10T20:01:01.795Z",    "url": "http://apidocjs.com",    "version": "0.17.6"  }}
